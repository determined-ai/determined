repos:
  - repo: local
    hooks:
      - id: web-js-lint-check
        name: Web JS Lint Check
        entry: >
          bash -c '
            FILE_PATHS=$(realpath --relative-to webui/react $0 $@) &&
            make -j$(nproc) -C webui/react prettier PRE_ARGS="-- -c $FILE_PATHS" eslint ES_ARGS="$FILE_PATHS"
          '
        language: system
        files: '^webui/react/src/'
        types_or: [javascript, jsx, ts, tsx]
      - id: web-css-lint-check
        name: Web CSS Lint Check
        entry: >
          bash -c '
            FILE_PATHS=$(realpath --relative-to webui/react $0 $@) &&
            make -j$(nproc) -C webui/react prettier PRE_ARGS="-- -c $FILE_PATHS" stylelint ST_ARGS="$FILE_PATHS"
          '
        language: system
        files: '^webui/react/src/'
        types_or: [css, less, scss]
      - id: web-misc-lint-check
        name: Web Misc Lint Check
        entry: >
          bash -c '
            FILE_PATHS=$(realpath --relative-to webui/react $0 $@) &&
            make -j$(nproc) -C webui/react prettier PRE_ARGS="-- -c $FILE_PATHS" check-package-lock
          '
        language: system
        files: '^webui/react/'
        types_or: [markdown, json]
