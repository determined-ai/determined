repos:
  - repo: local
    hooks:
      - id: web-js-lint-check
        name: Web JS Lint Check
        entry: >
          bash -c
          '
          cd webui/react &&
          FILES=$(
            git diff --name-only --staged --relative src/**/*.js src/**/*.jsx src/**/*.ts src/**/*.tsx |
            tr "\n" " "
          ) &&
          make prettier ARGS="-- -c $FILES" &&
          make eslint ARGS="$FILES"
          '
        language: system
        files: 'webui/react/src/'
        types_or: [javascript, jsx, ts, tsx]
      - id: web-css-lint-check
        name: Web CSS Lint Check
        entry: >
          bash -c
          '
          cd webui/react &&
          FILES=$(
            git diff --name-only --staged --relative src/**/*.css src/**/*.less src/**/*.scss |
            tr "\n" " "
          ) &&
          make prettier ARGS="-- -c $FILES" &&
          make stylelint ARGS="$FILES"
          '
        language: system
        files: 'webui/react/src/'
        types_or: [css, less, scss]
      - id: web-misc-lint-check
        name: Web Misc Lint Check
        entry: >
          bash -c
          '
          cd webui/react &&
          FILES=$(
            git diff --name-only --staged --relative *.json *.md |
            tr "\n" " "
          ) &&
          make prettier ARGS="-- -c $FILES" &&
          make check-package-lock
          '
        language: system
        files: 'webui/react/'
        types_or: [markdown, json]
