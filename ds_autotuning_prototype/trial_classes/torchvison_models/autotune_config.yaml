scheduling_unit: 2000
name: torchvision_models_dsat
workspace: DS_AT_PROTOTYPING
project: torchvision_models
max_restarts: 0
resources:
  slots_per_trial: 2
  # max_slots: 8
  shm_size: 17179869184 # 16 GiB. Was hitting "Unexpected bus error encountered in worker. This might be caused by insufficient shared memory (shm)." on Grenoble.
  # resource_pool: young # Grenoble specific; remove later.
searcher:
  name: custom
  metric: throughput
  smaller_is_better: False
hyperparameters:
  model_name: resnet152
  # NOTE: dsat code expects usual DS config dict to appear as in the below.
  deepspeed_config: ds_config.json
entrypoint:
  - python3
  - -m
  - determined.launch.deepspeed
  - --trial
  - model_def:TorchvisionTrial
